{"version":3,"sources":["serviceWorker.js","Home/index.js","game/index.js","info/index.js","index.js"],"names":["Boolean","window","location","hostname","match","Home","props","state","gameID","joinGameInput","gameIDtoJoin","gameExists","submitted","bothJoined","changeValue","bind","searchGame","startGame","console","log","this","setState","fetch","then","response","json","data","result","game_id","e","target","value","history","push","pathname","mode","method","headers","body","JSON","stringify","res","online","className","onClick","createGame","joinGame","type","name","id","placeholder","onChange","to","href","Component","url","protocol","document","domain","port","socket","io","connect","Square","Board","squares","xIsNext","getBoard","on","updateBoard","pos","position","updatedSquares","player","next","board","i","slice","calculateWinner","emit","handleClick","status","winner","renderSquare","React","Game","lines","length","a","b","c","includes","App","undefined","connected","Info","createBrowserHistory","Main","path","component","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.1b6f5def.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React, {Component} from 'react';\nimport {Link} from 'react-router-dom';\nimport './index.css';\nclass Home extends Component{\n    constructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n            gameID: null,\n            joinGameInput: false,\n            gameIDtoJoin: null,\n            gameExists: true,\n            submitted: false,\n            bothJoined: false\n        };\n        this.changeValue = this.changeValue.bind(this);\n        this.searchGame = this.searchGame.bind(this);\n        this.startGame = this.startGame.bind(this);\n\t}\n    createGame(){\n        console.log('Creating Game');\n        this.setState({joinGameInput: false})\n        fetch('/api/create/game')\n\t\t\t.then((response) => response.json())\n\t\t\t.then((data) => {\n\t\t\t\tif (data.result === 'success') {\n                    this.setState({gameID: data.game_id});\n\t\t\t\t}\n\t\t\t});\n    }\n\n    joinGame(){\n        this.setState({joinGameInput: !this.state.joinGameInput});\n    }\n\n    changeValue(e){\n        this.setState({gameIDtoJoin: e.target.value})\n    }\n    startGame(){\n        this.props.history.push({\n            pathname: '/Game',\n            state: {\n                gameID: this.state.gameID,\n                mode: 'create'\n            }\n        })\n    }\n    searchGame(){\n        this.setState({submitted: true})\n        fetch('/api/search/game', {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({ game_id: this.state.gameIDtoJoin }),\n        }).then(res => res.json())\n            .then(res => {\n                console.log(res)\n                if (res.result === 'fail') {\n                    console.log('Game doesnt exist')\n                    this.setState({gameExists: false, bothJoined: false})\n                } else if (res.result === 'success') {\n                    this.setState({gameExists: true})\n                    if (res.online !== 2) {\n                        this.props.history.push({\n                            pathname: '/Game',\n                            state: {\n                                gameID: this.state.gameIDtoJoin,\n                                mode: 'join'\n                            }\n                        })\n                    } else {\n                        this.setState({bothJoined: true})\n                    }\n                    \n                }\n            })\n    }  \n\n    render(){\n        return(\n            <div>\n                <div className=\"parent\">\n                    <div className=\"Home\">\n                        <h1>\n                            Tic-Tac-Toe\n                            <sup>Online</sup>\n                        </h1>\n                        <h2>Because why not ?</h2>\n                        \n                        <h3>Get Started</h3>\n                        <div className=\"buttons\">\n                            <button \n                                className=\"createGameButton\" \n                                onClick={()=> this.createGame()}>\n                                    Create a new game\n                            </button>\n                            <button \n                                onClick={()=> this.joinGame()}>\n                                    Join a game\n                            </button>\n                        </div>\n                        { this.state.gameID === null ? null : \n                            <div className=\"createGame\">\n                                <h4>Game Created. Game ID :  {this.state.gameID}</h4>\n                                <p>Ask the other player to enter this ID while Joining the game.</p>\n                                <button onClick={this.startGame}>Start Game</button>\n                            </div>\n                        }\n\n                        { this.state.joinGameInput === false ? null : \n                            <div className=\"joinGame\">\n                                <input type=\"text\" name=\"gameID\" id=\"gameID\" placeholder=\"Game ID\"\n                                onChange={this.changeValue}\n                                />\n                                <button onClick={this.searchGame}>Join</button>\n                                <br/>\n                                <div>\n                                <br/><br/>\n\n                                    {!this.state.bothJoined ? null : <h3>Both players have already joined.</h3>}\n\n                                    {this.state.gameExists ? null : <h3>Game doesn't exist. Create one to start playing.</h3>}\n                                    \n                                </div>\n                            </div>\n                        }\n                        <br/>\n                        \n                    </div>\n                    \n                </div>\n                <div className=\"footer\">\n                            <Link to=\"/Info\">Learn More</Link>\n                            <p>Designed and Developed by <a href=\"http://bit.ly/nikketan\">Niketan Gulekar</a> &copy;2020</p>\n                    </div>\n            </div>\n        );\n    }\n}\n\nexport default Home;","import React from 'react';\nimport './Game.css';\nimport io from 'socket.io-client';\nimport {Redirect, Link} from 'react-router-dom';\n\nlet url = window.location.protocol + '//' + document.domain;\nif (window.location.port !== \"\") {\n\turl += ':' + window.location.port + '/Game';\n}\n\nlet socket = io.connect(url);\n\nfunction Square(props) {\n\treturn (\n\t\t<button\n\t\t\tclassName=\"square\"\n\t\t\tonClick={props.onClick}\n\t\t>\n\t\t\t{props.value}\n\t\t</button>\n\t);\n}\n\nclass Board extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tsquares: [],\n\t\t\txIsNext: true,\n\t\t};\n\t\tthis.getBoard = this.getBoard.bind(this);\n\t}\n\n\tcomponentDidMount(){\n\t\tthis.getBoard();\n\t\tsocket.on('moved', (data)=>this.updateBoard(data))\n\t}\n\n\tupdateBoard(data){\n\t\tlet pos = data.position\n\t\tlet updatedSquares = this.state.squares;\n\t\tupdatedSquares[pos] = data.player;\n\t\tthis.setState({squares: updatedSquares,\n\t\t\txIsNext: data.next === 'X' ? true : false})\n\t\t// this.setState({squares: data.board,\n\t\t// \txIsNext: data.next === 'X' ? true : false})\n\t}\n\n\tgetBoard(){\n\t\tfetch('/api/fetch/game/' + this.props.game_id )\n\t\t\t.then((response) => response.json())\n\t\t\t.then((data) => {\n\t\t\t\tif (data.result === 'success') {\n\t\t\t\t\tthis.setState({squares: data.board,\n\t\t\t\t\t\txIsNext: data.next === 'X' ? true : false})\n\t\t\t\t} else if (data.result === 'fail') {\n\t\t\t\t\twindow.location.href='/'\n\t\t\t\t}\n\t\t\t})\n\t}\n\n\thandleClick(i) {\n\t\tconst squares = this.state.squares.slice();\n\t\tif (calculateWinner(squares) || squares[i]) {\n\t\t\treturn;\n\t\t}\n\t\tif (this.props.mode === 'create' && this.state.xIsNext === true) {\n\t\t\tsquares[i] = 'X'\n\t\t\t//this.state.xIsNext ? 'X' : 'O';\n\t\t\tthis.setState({\n\t\t\t\tsquares: squares,\n\t\t\t\txIsNext: false,\n\t\t\t});\n\t\t\n\t\t\tsocket.emit('move', {\"player\":squares[i], \"position\": i,\"game_id\": this.props.game_id});\n\t\t} else if (this.props.mode === 'join' && this.state.xIsNext === false){\n\t\t\tsquares[i] = 'O'\n\t\t\t\n\t\t\tthis.setState({\n\t\t\t\tsquares: squares,\n\t\t\t\txIsNext: true,\n\t\t\t});\n\t\t\n\t\t\tsocket.emit('move', {\"player\":squares[i], \"position\": i,\"game_id\": this.props.game_id});\n\t\t}\n\t\t\n\t\t\n\t}\n\trenderSquare(i) {\n\t\treturn (<Square\n\t\t\tvalue={this.state.squares[i]}\n\t\t\tonClick={() => this.handleClick(i)}\n\t\t/>);\n\t}\n\n\trender() {\n\t\tconst winner = calculateWinner(this.state.squares);\n\t\tlet status;\n\t\tif (winner) {\n\t\t\tstatus = winner;\n\t\t} else {\n\t\t\tstatus = 'Next player: ' + (this.state.xIsNext ? (this.props.mode === 'create' ? 'You' : 'X') : (this.props.mode === 'join' ? 'You' : 'O'));\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"game-board\">\n\t\t\t\t<div className=\"status\"><h2>{status}</h2></div>\n\t\t\t\t<div className=\"board-area\">\n\t\t\t\t\t<div className=\"board-row\">\n\t\t\t\t\t\t{this.renderSquare(0)}\n\t\t\t\t\t\t{this.renderSquare(1)}\n\t\t\t\t\t\t{this.renderSquare(2)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"board-row\">\n\t\t\t\t\t\t{this.renderSquare(3)}\n\t\t\t\t\t\t{this.renderSquare(4)}\n\t\t\t\t\t\t{this.renderSquare(5)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"board-row\">\n\t\t\t\t\t\t{this.renderSquare(6)}\n\t\t\t\t\t\t{this.renderSquare(7)}\n\t\t\t\t\t\t{this.renderSquare(8)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<p>Playing as : <b>{this.props.mode === 'create' ? 'X' : 'O'}</b></p>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nclass Game extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t\t<div className=\"game\">\n\t\t\t\t\t<Board game_id={this.props.game_id} mode={this.props.mode}/>\n\t\t\t\t</div>\n\t\t);\n\t}\n}\n\nfunction calculateWinner(squares) {\n\tconst lines = [\n\t\t[0, 1, 2],\n\t\t[3, 4, 5],\n\t\t[6, 7, 8],\n\t\t[0, 3, 6],\n\t\t[1, 4, 7],\n\t\t[2, 5, 8],\n\t\t[0, 4, 8],\n\t\t[2, 4, 6],\n\t];\n\tfor (let i = 0; i < lines.length; i++) {\n\t\t\tconst [a, b, c] = lines[i];\n\t\t\tif (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {\n\t\t\t\treturn 'Winner :' + squares[a];\n\t\t\t\t\n\t\t\t}\n\t}\n\tif (squares.includes(null) === false) {\n\t\treturn 'Game Tied'\n\t} \n\treturn null;\n}\n\nclass App extends React.Component {\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tonline: 0\n\t\t}\n\t}\n\tcomponentDidMount(){\n\t\tif (this.props.location.state !== undefined) {\n\t\t\tsocket.emit('join', {\"game_id\": this.props.location.state.gameID, \"player\" : (this.props.location.state.mode === 'create' ? \"X\" : \"O\")});\n\t\t}\n\t\tsocket.on('connected', (data)=>this.connected(data))\n\t\tsocket.on('disconnected', (data)=>this.connected(data))\n\t}\n\n\tconnected(data){\n\t\tthis.setState({online: data.online.length});\n\t}\n\n\tcomponentWillUnmount(){\n\t\tif (this.props.location.state !== undefined) {\n\t\t\tsocket.emit('leave', {\"game_id\": this.props.location.state.gameID, \"player\" : (this.props.location.state.mode === 'create' ? \"X\" : \"O\")});\n\t\t}\n\t}\n\n\trender(){\n\t\t\n\t\treturn (\n\t\t\t(this.props.location.state === undefined ? <Redirect to='/' /> : \n\t\t\t<div className=\"window\">\n\t\t\t\t<Link to=\"/\" className=\"goHome\">Go Home</Link>\n\t\t\t\t<p className=\"online\">Joined : {this.state.online} </p>\n\t\t\t\t<div className=\"parent\">\n\t\t\t\t\t<Game game_id={this.props.location.state.gameID} mode={this.props.location.state.mode}/>\n\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t\t<p className=\"gameID_Info\">Game : {this.props.location.state.gameID}</p>\n\t\t\t</div>\n\t\t\t)\n\t\t);\n\t}\n}\n\nexport default App;","import React, {Component} from 'react';\nimport './index.css'\nimport {Link} from 'react-router-dom';\nclass Info extends Component{\n    render(){\n        return(\n            <div>\n                <Link to=\"/\">Go Home</Link>\n                <div className=\"parent\">\n                    <div className=\"Info\">\n                        <Link to=\"/\" className=\"title\">\n                        <h1>\n                            Tic-Tac-Toe\n                            <sup>Online</sup>\n                        </h1>\n                        </Link>\n                        <div className=\"content\">\n                            <p>\n                                <b>How was this built ?</b><br/>\n                                Using <b>Python</b> along with <b>Flask</b> MicroFramework for the Server Side Handling. And <b>React</b> ofcourse. \n                                <br/><br/>\n                                <b>Why ?</b><br/>\n                                Because why not ?\n                                <br/><br/>\n                                <b>Wanna contribute ?</b><br/>\n                                <a href=\"https://github.com/NiketanG/tic-tac-toe-online\">Github Repo</a>\n                                <br/><br/>\n                                <a href=\"mailto:nikegulekar@gmail.com\">Contact Me</a>\n                            </p>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"footer\">\n                            <p>Designed and Developed by <a href=\"http://bit.ly/nikketan\">Niketan Gulekar</a> \t&copy;2020</p>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Info;","import React, { Component } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Router, Switch, Route, BrowserRouter } from \"react-router-dom\";\nimport { createBrowserHistory } from \"history\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nimport Home from \"./Home\";\nimport App from \"./game\";\nimport Info from \"./info\"\n\nconst history = createBrowserHistory();\n\nclass Main extends Component {\n  render() {\n    return (\n      <BrowserRouter>\n        <Switch>\n          <Route path=\"/Game\" component={App} />\n          <Route path=\"/Info\" component={Info} />\n          <Route path=\"/\" component={Home} />\n        </Switch>\n      </BrowserRouter>\n    );\n  }\n}\n\nReactDOM.render(\n  <Router history={history}>\n    <Main history={history} />\n  </Router>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}