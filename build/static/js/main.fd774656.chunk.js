(this["webpackJsonptic-tac-toe"]=this["webpackJsonptic-tac-toe"]||[]).push([[0],{103:function(e,t,a){},104:function(e,t,a){"use strict";a.r(t);var n=a(15),r=a(16),o=a(19),l=a(20),i=a(0),s=a.n(i),c=a(17),m=a.n(c),u=a(11),h=a(12),d=a(5);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var p=a(21),b=(a(66),function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).state={gameID:null,joinGameInput:!1,gameIDtoJoin:null,gameExists:!0,submitted:!1,bothJoined:!1},r.changeValue=r.changeValue.bind(Object(p.a)(r)),r.searchGame=r.searchGame.bind(Object(p.a)(r)),r.startGame=r.startGame.bind(Object(p.a)(r)),r}return Object(r.a)(a,[{key:"createGame",value:function(){var e=this;console.log("Creating Game"),this.setState({joinGameInput:!1}),fetch("/api/create/game").then((function(e){return e.json()})).then((function(t){"success"===t.result&&e.setState({gameID:t.game_id})}))}},{key:"joinGame",value:function(){this.setState({joinGameInput:!this.state.joinGameInput})}},{key:"changeValue",value:function(e){this.setState({gameIDtoJoin:e.target.value})}},{key:"startGame",value:function(){this.props.history.push({pathname:"/Game",state:{gameID:this.state.gameID,mode:"create"}})}},{key:"searchGame",value:function(){var e=this;this.setState({submitted:!0}),fetch("/api/search/game",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({game_id:this.state.gameIDtoJoin})}).then((function(e){return e.json()})).then((function(t){console.log(t),"fail"===t.result?(console.log("Game doesnt exist"),e.setState({gameExists:!1,bothJoined:!1})):"success"===t.result&&(e.setState({gameExists:!0}),2!==t.online?e.props.history.push({pathname:"/Game",state:{gameID:e.state.gameIDtoJoin,mode:"join"}}):e.setState({bothJoined:!0}))}))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"Parent"},s.a.createElement("div",{className:"Home"},s.a.createElement("h1",null,"Tic-Tac-Toe",s.a.createElement("sup",null,"Online")),s.a.createElement("h2",null,"Because why not ?"),s.a.createElement("h3",null,"Get Started"),s.a.createElement("div",{className:"buttons"},s.a.createElement("button",{className:"createGameButton",onClick:function(){return e.createGame()}},"Create a new game"),s.a.createElement("button",{onClick:function(){return e.joinGame()}},"Join a game")),null===this.state.gameID?null:s.a.createElement("div",{className:"createGame"},s.a.createElement("h4",null,"Game Created. Game ID :  ",this.state.gameID),s.a.createElement("p",null,"Ask the other player to enter this ID while Joining the game."),s.a.createElement("button",{onClick:this.startGame},"Start Game")),!1===this.state.joinGameInput?null:s.a.createElement("div",{className:"joinGame"},s.a.createElement("input",{type:"text",name:"gameID",id:"gameID",placeholder:"Game ID",onChange:this.changeValue}),s.a.createElement("button",{onClick:this.searchGame},"Join"),s.a.createElement("br",null),s.a.createElement("div",null,s.a.createElement("br",null),s.a.createElement("br",null),this.state.bothJoined?s.a.createElement("h3",null,"Both players have already joined."):null,this.state.gameExists?null:s.a.createElement("h3",null,"Game doesn't exist. Create one to start playing."))),s.a.createElement("br",null)),s.a.createElement("div",{className:"footerHome"},s.a.createElement(u.b,{to:"/Info"},"Learn More"),s.a.createElement("p",null,"Designed and Developed by ",s.a.createElement("a",{href:"http://bit.ly/nikketan"},"Niketan Gulekar")," \xa92020")))}}]),a}(i.Component)),E=a(23),v=a(2),f=a(8),g=a(9),y=a(6),k=a(4),j=(a(71),a(59)),G=a.n(j),I=a(60),O=(a(102),window.location.protocol+"//"+document.domain);""!==window.location.port&&(O+=":"+window.location.port),O+="/Game";var N=G.a.connect(O);function S(e){return s.a.createElement("button",{className:"square",onClick:e.onClick},e.value)}var w=function(e){Object(y.a)(a,e);var t=Object(k.a)(a);function a(e){var n;return Object(v.a)(this,a),(n=t.call(this,e)).state={squares:[],xIsNext:!0,enableRestart:!1},n.getBoard=n.getBoard.bind(Object(g.a)(n)),n}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.getBoard(),N.on("moved",(function(t){return e.updateBoard(t)})),N.on("restarted",(function(){e.getBoard(),I.a.notify("Game Restarted !",{duration:2e3})}))}},{key:"updateBoard",value:function(e){var t=e.position,a=this.state.squares;a[t]=e.player,this.setState({squares:a,xIsNext:"X"===e.next}),D(a)&&this.setState({enableRestart:!0})}},{key:"getBoard",value:function(){var e=this;this.setState({enableRestart:!1}),fetch("/api/fetch/game/"+this.props.game_id).then((function(e){return e.json()})).then((function(t){"success"===t.result?(e.setState({squares:t.board,xIsNext:"X"===t.next}),D(t.board)&&e.setState({enableRestart:!0})):"fail"===t.result&&(window.location.href="/")}))}},{key:"restartGame",value:function(){N.emit("restartGame",{game_id:this.props.game_id})}},{key:"handleClick",value:function(e){var t=this.state.squares.slice();D(t)||t[e]||("create"===this.props.mode&&!0===this.state.xIsNext?(t[e]="X",this.setState({squares:t,xIsNext:!1}),N.emit("move",{player:t[e],position:e,game_id:this.props.game_id})):"join"===this.props.mode&&!1===this.state.xIsNext&&(t[e]="O",this.setState({squares:t,xIsNext:!0}),N.emit("move",{player:t[e],position:e,game_id:this.props.game_id})))}},{key:"renderSquare",value:function(e){var t=this;return s.a.createElement(S,{value:this.state.squares[e],onClick:function(){return t.handleClick(e)}})}},{key:"render",value:function(){var e,t=this,a=D(this.state.squares);return e=a||"Next player: "+(this.state.xIsNext?"create"===this.props.mode?"You":"X":"join"===this.props.mode?"You":"O"),s.a.createElement("div",{className:"game-board"},s.a.createElement("div",{className:"status"},s.a.createElement("h2",null,e)),s.a.createElement("div",{className:"board-area"},s.a.createElement("div",{className:"board-row"},this.renderSquare(0),this.renderSquare(1),this.renderSquare(2)),s.a.createElement("div",{className:"board-row"},this.renderSquare(3),this.renderSquare(4),this.renderSquare(5)),s.a.createElement("div",{className:"board-row"},this.renderSquare(6),this.renderSquare(7),this.renderSquare(8))),s.a.createElement("p",null,"Playing as : ",s.a.createElement("b",null,"create"===this.props.mode?"X":"O")),!0===this.state.enableRestart?s.a.createElement("button",{onClick:function(){return t.restartGame()}},"Restart"):null)}}]),a}(s.a.Component),x=function(e){Object(y.a)(a,e);var t=Object(k.a)(a);function a(){return Object(v.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"game"},s.a.createElement(w,{game_id:this.props.game_id,mode:this.props.mode}))}}]),a}(s.a.Component);function D(e){for(var t=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],a=0;a<t.length;a++){var n=Object(E.a)(t[a],3),r=n[0],o=n[1],l=n[2];if(e[r]&&e[r]===e[o]&&e[r]===e[l])return"Winner :"+e[r]}return!1===e.includes(null)?"Game Tied":null}var C=function(e){Object(y.a)(a,e);var t=Object(k.a)(a);function a(e){var n;return Object(v.a)(this,a),(n=t.call(this,e)).state={online:0},n}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=this;void 0!==this.props.location.state&&N.emit("join",{game_id:this.props.location.state.gameID,player:"create"===this.props.location.state.mode?"X":"O"}),N.on("connected",(function(t){return e.connected(t)})),N.on("disconnected",(function(t){return e.connected(t)}))}},{key:"connected",value:function(e){this.setState({online:e.online.length})}},{key:"componentWillUnmount",value:function(){void 0!==this.props.location.state&&N.emit("leave",{game_id:this.props.location.state.gameID,player:"create"===this.props.location.state.mode?"X":"O"})}},{key:"render",value:function(){return void 0===this.props.location.state?s.a.createElement(h.a,{to:"/"}):s.a.createElement("div",{className:"window"},s.a.createElement(u.b,{to:"/",className:"goHome"},"Go Home"),s.a.createElement("p",{className:"online"},"Joined : ",this.state.online," "),s.a.createElement("div",{className:"parent"},s.a.createElement(x,{game_id:this.props.location.state.gameID,mode:this.props.location.state.mode})),s.a.createElement("p",{className:"gameID_Info"},"Game : ",this.props.location.state.gameID))}}]),a}(s.a.Component),q=(a(103),function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(u.b,{to:"/"},"Go Home"),s.a.createElement("div",{className:"parent"},s.a.createElement("div",{className:"Info"},s.a.createElement(u.b,{to:"/",className:"title"},s.a.createElement("h1",null,"Tic-Tac-Toe",s.a.createElement("sup",null,"Online"))),s.a.createElement("div",{className:"content"},s.a.createElement("p",null,s.a.createElement("b",null,"How was this built ?"),s.a.createElement("br",null),"Using ",s.a.createElement("b",null,"Python")," along with ",s.a.createElement("b",null,"Flask")," MicroFramework for the Server Side Handling. And ",s.a.createElement("b",null,"React")," ofcourse.",s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("b",null,"Why ?"),s.a.createElement("br",null),"Because why not ?",s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("b",null,"Wanna contribute ?"),s.a.createElement("br",null),s.a.createElement("a",{href:"https://github.com/NiketanG/tic-tac-toe-online"},"Github Repo"),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("a",{href:"mailto:nikegulekar@gmail.com"},"Contact Me"))))),s.a.createElement("div",{className:"footer"},s.a.createElement("p",null,"Designed and Developed by ",s.a.createElement("a",{href:"http://bit.ly/nikketan"},"Niketan Gulekar"),"  \xa92020")))}}]),a}(i.Component)),J=Object(d.a)(),_=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return s.a.createElement(u.a,null,s.a.createElement(h.d,null,s.a.createElement(h.b,{path:"/Game",component:C}),s.a.createElement(h.b,{path:"/Info",component:q}),s.a.createElement(h.b,{path:"/",component:b})))}}]),a}(i.Component);m.a.render(s.a.createElement(h.c,{history:J},s.a.createElement(_,{history:J})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},61:function(e,t,a){e.exports=a(104)},66:function(e,t,a){},71:function(e,t,a){},99:function(e,t){}},[[61,1,2]]]);
//# sourceMappingURL=main.fd774656.chunk.js.map